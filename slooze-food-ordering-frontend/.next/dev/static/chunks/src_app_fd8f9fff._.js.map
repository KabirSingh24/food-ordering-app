{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hi/Downloads/food-ordering-app/slooze-food-ordering-frontend/src/app/api.js"],"sourcesContent":["const BASE = \"http://localhost:8080\";\r\n\r\nfunction withUserId(url) {\r\n  if (typeof window === \"undefined\") return url;\r\n  const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\r\n  if (!user.id) return url;\r\n  return url.includes(\"?\") ? `${url}&userId=${user.id}` : `${url}?userId=${user.id}`;\r\n}\r\n\r\nexport const api = {\r\n  get: async (url) => {\r\n    const res = await fetch(BASE + withUserId(url));\r\n    if (!res.ok) throw new Error(`GET ${url} failed: ${res.statusText}`);\r\n    return res.json();\r\n  },\r\n\r\n  post: async (url, body) => {\r\n    const res = await fetch(BASE + withUserId(url), {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(body)\r\n    });\r\n    if (!res.ok) throw new Error(`POST ${url} failed: ${res.statusText}`);\r\n    return res.json();\r\n  },\r\n\r\n  del: async (url) => {\r\n    const res = await fetch(BASE + withUserId(url), { method: \"DELETE\" });\r\n    if (!res.ok) throw new Error(`DELETE ${url} failed: ${res.statusText}`);\r\n    try {\r\n      return await res.json();\r\n    } catch {\r\n      return null;\r\n    }\r\n  }\r\n\r\n};"],"names":[],"mappings":";;;;AAAA,MAAM,OAAO;AAEb,SAAS,WAAW,GAAG;IACrB;;IACA,MAAM,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,WAAW;IACxD,IAAI,CAAC,KAAK,EAAE,EAAE,OAAO;IACrB,OAAO,IAAI,QAAQ,CAAC,OAAO,GAAG,IAAI,QAAQ,EAAE,KAAK,EAAE,EAAE,GAAG,GAAG,IAAI,QAAQ,EAAE,KAAK,EAAE,EAAE;AACpF;AAEO,MAAM,MAAM;IACjB,KAAK,OAAO;QACV,MAAM,MAAM,MAAM,MAAM,OAAO,WAAW;QAC1C,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE,IAAI,SAAS,EAAE,IAAI,UAAU,EAAE;QACnE,OAAO,IAAI,IAAI;IACjB;IAEA,MAAM,OAAO,KAAK;QAChB,MAAM,MAAM,MAAM,MAAM,OAAO,WAAW,MAAM;YAC9C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,SAAS,EAAE,IAAI,UAAU,EAAE;QACpE,OAAO,IAAI,IAAI;IACjB;IAEA,KAAK,OAAO;QACV,MAAM,MAAM,MAAM,MAAM,OAAO,WAAW,MAAM;YAAE,QAAQ;QAAS;QACnE,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,CAAC,OAAO,EAAE,IAAI,SAAS,EAAE,IAAI,UAAU,EAAE;QACtE,IAAI;YACF,OAAO,MAAM,IAAI,IAAI;QACvB,EAAE,OAAM;YACN,OAAO;QACT;IACF;AAEF"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hi/Downloads/food-ordering-app/slooze-food-ordering-frontend/src/app/orders/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { api } from \"../api\";\r\nimport { getUser, canCheckout } from \"../auth\";\r\n\r\nexport default function Orders() {\r\n  const user = getUser();\r\n  const [order, setOrder] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      const orderId = localStorage.getItem(\"orderId\");\r\n      if (orderId) {\r\n        setOrder({ id: orderId, status: \"CREATED\" }); // initial status\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  async function checkout() {\r\n    const updated = await api.post(`/orders/${order.id}/checkout`);\r\n    setOrder(prev => ({ ...prev, status: updated.status }));\r\n    alert(\"Order Paid\");\r\n  }\r\n\r\n  async function cancel() {\r\n    await api.del(`/orders/${order.id}`);\r\n    setOrder(prev => ({ ...prev, status: \"CANCELLED\" }));\r\n    alert(\"Order Cancelled\");\r\n  }\r\n\r\n  if (!order) return <p className=\"empty\">No order yet</p>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Order #{order.id}</h2>\r\n\r\n      <div className=\"card order-card\">\r\n        <div className=\"card-content\">\r\n          <img src={order.image || \"/food.png\"} className=\"card-img\" />\r\n          <span>Status: <b>{order.status}</b></span>\r\n        </div>\r\n\r\n        <div className=\"actions\">\r\n          {canCheckout(user.role) && order.status === \"CREATED\" && (\r\n            <button onClick={checkout}>Checkout</button>\r\n          )}\r\n\r\n          {user.role !== \"MEMBER\" && order.status === \"CREATED\" && (\r\n            <button className=\"danger\" onClick={cancel}>Cancel</button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,OAAO,IAAA,gIAAO;IACpB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,IAAA,0KAAS;4BAAC;YACR,wCAAmC;gBACjC,MAAM,UAAU,aAAa,OAAO,CAAC;gBACrC,IAAI,SAAS;oBACX,SAAS;wBAAE,IAAI;wBAAS,QAAQ;oBAAU,IAAI,iBAAiB;gBACjE;YACF;QACF;2BAAG,EAAE;IAEL,eAAe;QACb,MAAM,UAAU,MAAM,2HAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,MAAM,EAAE,CAAC,SAAS,CAAC;QAC7D,SAAS,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,QAAQ,QAAQ,MAAM;YAAC,CAAC;QACrD,MAAM;IACR;IAEA,eAAe;QACb,MAAM,2HAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,MAAM,EAAE,EAAE;QACnC,SAAS,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,QAAQ;YAAY,CAAC;QAClD,MAAM;IACR;IAEA,IAAI,CAAC,OAAO,qBAAO,6LAAC;QAAE,WAAU;kBAAQ;;;;;;IAExC,qBACE,6LAAC;;0BACC,6LAAC;;oBAAG;oBAAQ,MAAM,EAAE;;;;;;;0BAEpB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,KAAK,MAAM,KAAK,IAAI;gCAAa,WAAU;;;;;;0CAChD,6LAAC;;oCAAK;kDAAQ,6LAAC;kDAAG,MAAM,MAAM;;;;;;;;;;;;;;;;;;kCAGhC,6LAAC;wBAAI,WAAU;;4BACZ,IAAA,oIAAW,EAAC,KAAK,IAAI,KAAK,MAAM,MAAM,KAAK,2BAC1C,6LAAC;gCAAO,SAAS;0CAAU;;;;;;4BAG5B,KAAK,IAAI,KAAK,YAAY,MAAM,MAAM,KAAK,2BAC1C,6LAAC;gCAAO,WAAU;gCAAS,SAAS;0CAAQ;;;;;;;;;;;;;;;;;;;;;;;;AAMxD;GAjDwB;KAAA"}}]
}